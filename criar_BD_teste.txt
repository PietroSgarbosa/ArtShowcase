CREATE TABLE CADASTRO_USUARIO (
  CODI_USUAR int(11) NOT NULL auto_increment,
  NOME_USUAR varchar(45) NOT NULL,
  NICK_USUAR varchar(45) NOT NULL,
  MAIL_USUAR varchar(45) NOT NULL,
  CELU_USUAR varchar(16),
  DESC_USUAR varchar(200),
  SENH_USUAR varchar(45) NOT NULL,
  IDAD_USUAR int(3)  NOT NULL,
  SEXO_USUAR varchar(20) NOT NULL,
  IMAG_PERFI LONGTEXT,
  DATA_CADAS timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (CODI_USUAR)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE situacao_campeonato (
  CODI_SITUA int NOT NULL,
  DESC_SITUA varchar(15) NOT NULL,
  PRIMARY KEY (CODI_SITUA)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE UPLOAD_IMAGENS (
   CODI_IMAGE INT(11) NOT NULL auto_increment,
   CODI_USUAR INT(11) NOT NULL,
   IMAG_PORTI LONGTEXT,
   TITU_IMAGE VARCHAR(25),
   DESC_IMAGE VARCHAR(100),
   PRIMARY KEY (CODI_IMAGE,CODI_USUAR) USING BTREE,
   KEY FKusuar (CODI_USUAR),
  CONSTRAINT FKusuar FOREIGN KEY (CODI_USUAR) REFERENCES cadastro_usuario (CODI_USUAR)
  ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE campeonatos (
  CODI_CAMPE int(11) NOT NULL auto_increment,
  CODI_SITUA int NOT NULL,
  CODI_USUAR int NOT NULL,
  TITU_CAMPE varchar(25) NOT NULL,
  DESC_CAMPE varchar(45),
  TEMA_CAMPE varchar(45),
  DATA_CRIAC timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  DATA_INSCR date,
  DATA_ENCER date,
  VENC_CAMPE int,
  PRIMARY KEY (CODI_CAMPE) USING BTREE,
  KEY FKsituacao (CODI_SITUA),
  KEY FKcriador (CODI_USUAR) ,
  CONSTRAINT FKsituacao FOREIGN KEY (CODI_SITUA) REFERENCES situacao_campeonato (CODI_SITUA) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT FKcriador FOREIGN KEY (CODI_USUAR) REFERENCES cadastro_usuario (CODI_USUAR) ON DELETE NO ACTION ON UPDATE NO ACTION	
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO situacao_campeonato VALUES(0, 'Inscrição');
INSERT INTO situacao_campeonato VALUES(1, 'Em Andamento');
INSERT INTO situacao_campeonato VALUES(2, 'Encerrado');
